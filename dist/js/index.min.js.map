{"version":3,"sources":["../../config-wrap-start-default.js","../../node_modules/almond/almond.js","modules/d1.js","vendor/goScroll.js","app.js","modules/pageTpl.js","vendor/xhr.js","modules/gist-handle.js","modules/Page.js","modules/Grid.js","index.js"],"names":["requirejs","require","define","undef","hasProp","obj","prop","hasOwn","call","normalize","name","baseName","nameParts","nameSegment","mapValue","foundMap","lastIndex","foundI","foundStarMap","starI","i","j","part","normalizedBaseParts","baseParts","split","map","config","starMap","length","nodeIdCompat","jsSuffixRegExp","test","replace","charAt","slice","concat","splice","join","makeRequire","relName","forceSync","args","aps","arguments","push","req","apply","makeNormalize","makeLoad","depName","value","defined","callDep","waiting","defining","main","Error","splitPrefix","prefix","index","indexOf","substring","makeRelParts","makeConfig","makeMap","handlers","Object","prototype","hasOwnProperty","relParts","plugin","parts","relResourceName","f","n","pr","p","exports","e","module","id","uri","deps","callback","cjsModule","ret","usingExports","callbackType","load","undefined","alt","setTimeout","cfg","_defined","amd","jQuery","w","window","navigator","D","scrDensity","devicePixelRatio","isTouch","MaxTouchPoints","msMaxTouchPoints","isIE9","nav","userAgent","toLowerCase","parseInt","debounce","func","wait","immediate","timeout","context","this","clearTimeout","parent","element","tagname","tagName","parentNode","elementArray","nodeList","Array","elementIndex","node","previousElementSibling","d","easeOutQuad","t","b","c","Math","round","position","el","top","offsetParent","offsetTop","listen","scrolling","go","options","scroll","now","Date","targetTime","handleScroll","startTime","startPos","distance","duration","requestAnimationFrame","targetPos","offset","removeEventListener","stopEvent","body","className","css_regex","to","nodeType","abs","speed","SPEED","y","scrollTop","scrollTo","CLASSNAME","addEventListener","RegExp","createElement","onmousewheel","goScroll","document","d1","util","initial","views","data","mail","resolution","max","screen","width","height","hasHistory","history","pushState","state","showingContact","initialize","initialState","closeBtn","getElementById","contactBtn","setSizable","bindHandlers","self","preventDefault","closePage","toggleContact","currentTarget","readyState","onLoad","insertMail","wWidth","navMobile","shiftPages","a","addr","txt","createTextNode","href","appendChild","setHistory","title","url","resetDocument","handlePopState","grid","launchPage","siteTitle","toggleCloseBtn","show","activeColumn","classList","shrinkColumn","button","clientHeight","toggleContactVisibility","innerHTML","btn","target","getAttribute","querySelector","remove","currentPage","replaceState","style","transform","add","innerWidth","gridWidth","clientWidth","allowImg","image","slug","content","m","html","liString","li","videoSources","media","meta","l","src","mime","poster","ajax","xmlRe","jsonRe","getData","accepts","xhr","getResponseHeader","responseXML","responseText","JSON","parse","isValid","status","location","protocol","end","resolve","reject","error","headers","Accept","success","key","type","XMLHttpRequest","PromiseFn","Promise","promise","res","rej","contentType","query","encodeURIComponent","sep","onreadystatechange","open","allTypes","xhrAccepts","*","text","xml","json","setRequestHeader","dataType","beforeSend","send","createHandler","response","insertStyleSheet","insert","wrap","div","insertBefore","nextSibling","removeChild","stylesheet","linkTag","head","getElementsByTagName","rel","firstChild","extractId","pop","handleGist","r","getElementsByClassName","tag","app","templates","gistHandle","Page","getActiveItem","getTime","column","getContentColumn","isSingle","pageLoad","fetch","getTitle","item","textContent","render","errors","toString","toUpperCase","evalGists","tags","forEach","destroy","mouseTick","isShowingThumb","requestMouseMoveUpdate","ctx","showHoverImage","Grid","items","querySelectorAll","thumb","onTransitionEnd","img","itemClickHandle","contains","back","hideThumb","itemMouseMoveHandle","itemMouseOutHandle","preloadImage","Image","pageY","left","pageX","setThumb","display","property","propertyName","onColumnExpanded","onColumnShrunk","contentColumn","label","unsetActiveItem","activeColumnIndex","page","shiftGrid","expandColumn","parentColumn","forBlog","leftShift","ceil","mobileGridShift","columnIndex","toggleColumnVisibility","overrideColumnID","shift","cols","activeIndex","baseUrl","paths","isWin","platform","match","pathname"],"mappings":"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","file":"index.min.js","sourcesContent":["(function () {\n","/**\n * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.\n * Released under MIT license, http://github.com/requirejs/almond/LICENSE\n */\n//Going sloppy to avoid 'use strict' string cost, but strict practices should\n//be followed.\n/*global setTimeout: false */\n\nvar requirejs, require, define;\n(function (undef) {\n    var main, req, makeMap, handlers,\n        defined = {},\n        waiting = {},\n        config = {},\n        defining = {},\n        hasOwn = Object.prototype.hasOwnProperty,\n        aps = [].slice,\n        jsSuffixRegExp = /\\.js$/;\n\n    function hasProp(obj, prop) {\n        return hasOwn.call(obj, prop);\n    }\n\n    /**\n     * Given a relative module name, like ./something, normalize it to\n     * a real name that can be mapped to a path.\n     * @param {String} name the relative name\n     * @param {String} baseName a real name that the name arg is relative\n     * to.\n     * @returns {String} normalized name\n     */\n    function normalize(name, baseName) {\n        var nameParts, nameSegment, mapValue, foundMap, lastIndex,\n            foundI, foundStarMap, starI, i, j, part, normalizedBaseParts,\n            baseParts = baseName && baseName.split(\"/\"),\n            map = config.map,\n            starMap = (map && map['*']) || {};\n\n        //Adjust any relative paths.\n        if (name) {\n            name = name.split('/');\n            lastIndex = name.length - 1;\n\n            // If wanting node ID compatibility, strip .js from end\n            // of IDs. Have to do this here, and not in nameToUrl\n            // because node allows either .js or non .js to map\n            // to same file.\n            if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {\n                name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');\n            }\n\n            // Starts with a '.' so need the baseName\n            if (name[0].charAt(0) === '.' && baseParts) {\n                //Convert baseName to array, and lop off the last part,\n                //so that . matches that 'directory' and not name of the baseName's\n                //module. For instance, baseName of 'one/two/three', maps to\n                //'one/two/three.js', but we want the directory, 'one/two' for\n                //this normalization.\n                normalizedBaseParts = baseParts.slice(0, baseParts.length - 1);\n                name = normalizedBaseParts.concat(name);\n            }\n\n            //start trimDots\n            for (i = 0; i < name.length; i++) {\n                part = name[i];\n                if (part === '.') {\n                    name.splice(i, 1);\n                    i -= 1;\n                } else if (part === '..') {\n                    // If at the start, or previous value is still ..,\n                    // keep them so that when converted to a path it may\n                    // still work when converted to a path, even though\n                    // as an ID it is less than ideal. In larger point\n                    // releases, may be better to just kick out an error.\n                    if (i === 0 || (i === 1 && name[2] === '..') || name[i - 1] === '..') {\n                        continue;\n                    } else if (i > 0) {\n                        name.splice(i - 1, 2);\n                        i -= 2;\n                    }\n                }\n            }\n            //end trimDots\n\n            name = name.join('/');\n        }\n\n        //Apply map config if available.\n        if ((baseParts || starMap) && map) {\n            nameParts = name.split('/');\n\n            for (i = nameParts.length; i > 0; i -= 1) {\n                nameSegment = nameParts.slice(0, i).join(\"/\");\n\n                if (baseParts) {\n                    //Find the longest baseName segment match in the config.\n                    //So, do joins on the biggest to smallest lengths of baseParts.\n                    for (j = baseParts.length; j > 0; j -= 1) {\n                        mapValue = map[baseParts.slice(0, j).join('/')];\n\n                        //baseName segment has  config, find if it has one for\n                        //this name.\n                        if (mapValue) {\n                            mapValue = mapValue[nameSegment];\n                            if (mapValue) {\n                                //Match, update name to the new value.\n                                foundMap = mapValue;\n                                foundI = i;\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                if (foundMap) {\n                    break;\n                }\n\n                //Check for a star map match, but just hold on to it,\n                //if there is a shorter segment match later in a matching\n                //config, then favor over this star map.\n                if (!foundStarMap && starMap && starMap[nameSegment]) {\n                    foundStarMap = starMap[nameSegment];\n                    starI = i;\n                }\n            }\n\n            if (!foundMap && foundStarMap) {\n                foundMap = foundStarMap;\n                foundI = starI;\n            }\n\n            if (foundMap) {\n                nameParts.splice(0, foundI, foundMap);\n                name = nameParts.join('/');\n            }\n        }\n\n        return name;\n    }\n\n    function makeRequire(relName, forceSync) {\n        return function () {\n            //A version of a require function that passes a moduleName\n            //value for items that may need to\n            //look up paths relative to the moduleName\n            var args = aps.call(arguments, 0);\n\n            //If first arg is not require('string'), and there is only\n            //one arg, it is the array form without a callback. Insert\n            //a null so that the following concat is correct.\n            if (typeof args[0] !== 'string' && args.length === 1) {\n                args.push(null);\n            }\n            return req.apply(undef, args.concat([relName, forceSync]));\n        };\n    }\n\n    function makeNormalize(relName) {\n        return function (name) {\n            return normalize(name, relName);\n        };\n    }\n\n    function makeLoad(depName) {\n        return function (value) {\n            defined[depName] = value;\n        };\n    }\n\n    function callDep(name) {\n        if (hasProp(waiting, name)) {\n            var args = waiting[name];\n            delete waiting[name];\n            defining[name] = true;\n            main.apply(undef, args);\n        }\n\n        if (!hasProp(defined, name) && !hasProp(defining, name)) {\n            throw new Error('No ' + name);\n        }\n        return defined[name];\n    }\n\n    //Turns a plugin!resource to [plugin, resource]\n    //with the plugin being undefined if the name\n    //did not have a plugin prefix.\n    function splitPrefix(name) {\n        var prefix,\n            index = name ? name.indexOf('!') : -1;\n        if (index > -1) {\n            prefix = name.substring(0, index);\n            name = name.substring(index + 1, name.length);\n        }\n        return [prefix, name];\n    }\n\n    //Creates a parts array for a relName where first part is plugin ID,\n    //second part is resource ID. Assumes relName has already been normalized.\n    function makeRelParts(relName) {\n        return relName ? splitPrefix(relName) : [];\n    }\n\n    /**\n     * Makes a name map, normalizing the name, and using a plugin\n     * for normalization if necessary. Grabs a ref to plugin\n     * too, as an optimization.\n     */\n    makeMap = function (name, relParts) {\n        var plugin,\n            parts = splitPrefix(name),\n            prefix = parts[0],\n            relResourceName = relParts[1];\n\n        name = parts[1];\n\n        if (prefix) {\n            prefix = normalize(prefix, relResourceName);\n            plugin = callDep(prefix);\n        }\n\n        //Normalize according\n        if (prefix) {\n            if (plugin && plugin.normalize) {\n                name = plugin.normalize(name, makeNormalize(relResourceName));\n            } else {\n                name = normalize(name, relResourceName);\n            }\n        } else {\n            name = normalize(name, relResourceName);\n            parts = splitPrefix(name);\n            prefix = parts[0];\n            name = parts[1];\n            if (prefix) {\n                plugin = callDep(prefix);\n            }\n        }\n\n        //Using ridiculous property names for space reasons\n        return {\n            f: prefix ? prefix + '!' + name : name, //fullName\n            n: name,\n            pr: prefix,\n            p: plugin\n        };\n    };\n\n    function makeConfig(name) {\n        return function () {\n            return (config && config.config && config.config[name]) || {};\n        };\n    }\n\n    handlers = {\n        require: function (name) {\n            return makeRequire(name);\n        },\n        exports: function (name) {\n            var e = defined[name];\n            if (typeof e !== 'undefined') {\n                return e;\n            } else {\n                return (defined[name] = {});\n            }\n        },\n        module: function (name) {\n            return {\n                id: name,\n                uri: '',\n                exports: defined[name],\n                config: makeConfig(name)\n            };\n        }\n    };\n\n    main = function (name, deps, callback, relName) {\n        var cjsModule, depName, ret, map, i, relParts,\n            args = [],\n            callbackType = typeof callback,\n            usingExports;\n\n        //Use name if no relName\n        relName = relName || name;\n        relParts = makeRelParts(relName);\n\n        //Call the callback to define the module, if necessary.\n        if (callbackType === 'undefined' || callbackType === 'function') {\n            //Pull out the defined dependencies and pass the ordered\n            //values to the callback.\n            //Default to [require, exports, module] if no deps\n            deps = !deps.length && callback.length ? ['require', 'exports', 'module'] : deps;\n            for (i = 0; i < deps.length; i += 1) {\n                map = makeMap(deps[i], relParts);\n                depName = map.f;\n\n                //Fast path CommonJS standard dependencies.\n                if (depName === \"require\") {\n                    args[i] = handlers.require(name);\n                } else if (depName === \"exports\") {\n                    //CommonJS module spec 1.1\n                    args[i] = handlers.exports(name);\n                    usingExports = true;\n                } else if (depName === \"module\") {\n                    //CommonJS module spec 1.1\n                    cjsModule = args[i] = handlers.module(name);\n                } else if (hasProp(defined, depName) ||\n                           hasProp(waiting, depName) ||\n                           hasProp(defining, depName)) {\n                    args[i] = callDep(depName);\n                } else if (map.p) {\n                    map.p.load(map.n, makeRequire(relName, true), makeLoad(depName), {});\n                    args[i] = defined[depName];\n                } else {\n                    throw new Error(name + ' missing ' + depName);\n                }\n            }\n\n            ret = callback ? callback.apply(defined[name], args) : undefined;\n\n            if (name) {\n                //If setting exports via \"module\" is in play,\n                //favor that over return value and exports. After that,\n                //favor a non-undefined return value over exports use.\n                if (cjsModule && cjsModule.exports !== undef &&\n                        cjsModule.exports !== defined[name]) {\n                    defined[name] = cjsModule.exports;\n                } else if (ret !== undef || !usingExports) {\n                    //Use the return value from the function.\n                    defined[name] = ret;\n                }\n            }\n        } else if (name) {\n            //May just be an object definition for the module. Only\n            //worry about defining if have a module name.\n            defined[name] = callback;\n        }\n    };\n\n    requirejs = require = req = function (deps, callback, relName, forceSync, alt) {\n        if (typeof deps === \"string\") {\n            if (handlers[deps]) {\n                //callback in this case is really relName\n                return handlers[deps](callback);\n            }\n            //Just return the module wanted. In this scenario, the\n            //deps arg is the module name, and second arg (if passed)\n            //is just the relName.\n            //Normalize module name, if it contains . or ..\n            return callDep(makeMap(deps, makeRelParts(callback)).f);\n        } else if (!deps.splice) {\n            //deps is a config object, not an array.\n            config = deps;\n            if (config.deps) {\n                req(config.deps, config.callback);\n            }\n            if (!callback) {\n                return;\n            }\n\n            if (callback.splice) {\n                //callback is an array, which means it is a dependency list.\n                //Adjust args if there are dependencies\n                deps = callback;\n                callback = relName;\n                relName = null;\n            } else {\n                deps = undef;\n            }\n        }\n\n        //Support require(['a'])\n        callback = callback || function () {};\n\n        //If relName is a function, it is an errback handler,\n        //so remove it.\n        if (typeof relName === 'function') {\n            relName = forceSync;\n            forceSync = alt;\n        }\n\n        //Simulate async callback;\n        if (forceSync) {\n            main(undef, deps, callback, relName);\n        } else {\n            //Using a non-zero value because of concern for what old browsers\n            //do, and latest browsers \"upgrade\" to 4 if lower value is used:\n            //http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#dom-windowtimers-settimeout:\n            //If want a value immediately, use require('id') instead -- something\n            //that works in almond on the global level, but not guaranteed and\n            //unlikely to work in other AMD implementations.\n            setTimeout(function () {\n                main(undef, deps, callback, relName);\n            }, 4);\n        }\n\n        return req;\n    };\n\n    /**\n     * Just drops the config on the floor, but returns req in case\n     * the config return value is used.\n     */\n    req.config = function (cfg) {\n        return req(cfg);\n    };\n\n    /**\n     * Expose module registry for debugging and tooling\n     */\n    requirejs._defined = defined;\n\n    define = function (name, deps, callback) {\n        if (typeof name !== 'string') {\n            throw new Error('See almond README: incorrect module build, no module name');\n        }\n\n        //This module may not have dependencies\n        if (!deps.splice) {\n            //deps is not an array, so probably means\n            //an object literal or factory function for\n            //the value. Adjust args.\n            callback = deps;\n            deps = [];\n        }\n\n        if (!hasProp(defined, name) && !hasProp(waiting, name)) {\n            waiting[name] = [name, deps, callback];\n        }\n    };\n\n    define.amd = {\n        jQuery: true\n    };\n}());\n\ndefine(\"/Users/Arnaud/Sites/db-5/node_modules/almond/almond.js\", function(){});\n\n","define('d1',[], function () {\n    'use strict';\n\n    var w = window,\n        navigator = w.navigator,\n        D = {\n            scrDensity: 'devicePixelRatio' in w ? w.devicePixelRatio : 1,\n            isTouch: 'ontouchstart' in w || navigator.MaxTouchPoints > 0 || navigator.msMaxTouchPoints > 0\n        };\n\n    /*\n     |--------------------------------------------------------------------------\n     | Utilities\n     |--------------------------------------------------------------------------\n     |\n     |\n     */\n\n    D.isIE9 = function () {\n        var nav = navigator.userAgent.toLowerCase();\n        return ( nav.indexOf('msie') !== -1 ) ? parseInt( nav.split('msie')[1] ) === 9 : false;\n    };\n\n    D.debounce = function (func, wait, immediate) {\n        var timeout;\n        return function() {\n            var context = this, args = arguments;\n            clearTimeout(timeout);\n            timeout = setTimeout(function() {\n                timeout = null;\n                if (!immediate) func.apply(context, args);\n            }, wait);\n            if (immediate && !timeout) func.apply(context, args);\n        };\n    };\n\n    /*\n     |--------------------------------------------------------------------------\n     | DOM functions\n     |--------------------------------------------------------------------------\n     |\n     |\n     */\n\n    D.parent = function( element, tagname ) {\n        tagname = tagname.toLowerCase();\n        do {\n            if (element.tagName.toLowerCase() === tagname)\n                return element;\n        } while (element = element.parentNode);\n        return null;\n    };\n\n    D.elementArray = function ( nodeList ) {\n        return Array.prototype.slice.call( nodeList );\n    };\n\n    D.elementIndex = function ( node ) {\n        var index = 0;\n        while ( node = node.previousElementSibling ) {\n            index++;\n        }\n        return index;\n    };\n\n    return D;\n});\n","(function ( w, d, undefined ) {\n    'use strict';\n\n    var CLASSNAME = 'auto-scrolling',   // className for body element while scrolling\n        SPEED     = 2,                  // default speed\n\n        scrolling = 0,                  // are-we-scrolling flag\n        css_regex = new RegExp( '(?:^|\\\\s)'+CLASSNAME+'(?!\\\\S)', 'gi' ),    // to remove the body className after scrolling\n\n        // if we are using a touch screen use touch start,\n        // else find a wheel event to stop the animation.\n        stopEvent = 'ontouchstart' in w || navigator.MaxTouchPoints > 0 || navigator.msMaxTouchPoints > 0\n                ? 'touchstart'\n                : 'onwheel' in d.createElement( 'div' )\n                    ? 'wheel'                           // ie9+, sf7.0+, ff17.0+, ch31\n                    : d.onmousewheel !== undefined\n                        ? 'mousewheel'                  // ie6+, sf3.0+, ch1.0+\n                        : 'DOMMouseScroll';\n\n    // easing function\n    function easeOutQuad ( t, b, c, d ) {\n        return Math.round( -c *(t/=d)*(t-2) + b );\n    }\n\n    // find the position on an element\n    function position ( el, context ) {\n        var top = 0;\n        if ( el.offsetParent ) {\n            do {\n                top += el.offsetTop;\n            } while ( ( el.offsetParent != context ) && ( el = el.offsetParent ) )\n        }\n        return top;\n    }\n\n    // set are-we-scrolling flag stopEvent handler\n    function listen() { scrolling = 0; }\n\n    function go ( options ) {\n        options = options || {};\n\n        var context = options.context || w,// default context is the window, else a given element\n            targetPos = options.to && options.to.nodeType === 1 ? position(options.to, context) : (options.to || 0),\n            startPos = context[ options.context ? 'scrollTop' : 'pageYOffset' ],\n            distance = (targetPos - (options.offset || 0)) - startPos,\n            startTime = Date.now(),\n            duration = Math.abs( distance / (options.speed || SPEED) ),\n            targetTime = startTime + duration,\n            callback = options.callback,\n            handleScroll = options.context\n                ? function ( y ) { context.scrollTop = y; }\n                : function ( y ) { context.scrollTo( 0, y ); };\n\n        function scroll () {\n            var now = Date.now();\n            \n            // scroll for some time\n            if ( scrolling && now <= targetTime ) {\n                handleScroll( easeOutQuad( now - startTime, startPos, distance, duration ) );\n                w.requestAnimationFrame( scroll );\n                return;\n            }\n\n            // time's up\n            // if the animation is still running,\n            // be certain we reached our target position.\n            if ( scrolling ) {\n                w.requestAnimationFrame(function() { handleScroll(targetPos - (options.offset || 0)); });\n            }\n            // callback\n            if ( typeof callback === \"function\" ) {\n                callback.call( context, scrolling );\n            }\n            // remove the stop event handler\n            context.removeEventListener( stopEvent, listen );\n            // remove the body class\n            d.body.className = d.body.className.replace( css_regex, '' );\n        }\n\n        scrolling = 1;                                  // wave the flag\n        d.body.className += ' ' + CLASSNAME;            // we-are-scrolling className\n        context.addEventListener( stopEvent, listen );  // let the user stop the animation\n        w.requestAnimationFrame( scroll );              // go!\n    }\n\n    // UMD\n    if (typeof define === 'function' && define.amd) {\n        define('goScroll',[], function(){ return go; });\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = go;\n    } else {\n        window.goScroll = go;\n    }\n} ( window, document ) );\n\n","define('app',[\n    'd1',\n    'goScroll'\n], function ( d1, goScroll ) {\n    'use strict';\n\n    var w = window,\n        d = w.document;\n\n    return {\n\n        util : d1,\n        initial: {},\n        views : {},\n        data : {},\n        mail: ['hello', 'dotburo', 'org'],\n        resolution : Math.max( screen.width, screen.height ) * d1.scrDensity,\n        hasHistory : w.history && w.history.pushState && w.history.state !== undefined,\n        showingContact: 0,\n        \n        initialize : function ( initialState ) {\n            \n            this.initial = initialState;\n            this.closeBtn = d.getElementById( 'btn-close' );\n            this.contactBtn = d.getElementById( 'btn-contact' );\n\n            this.setSizable();\n            this.bindHandlers();\n            this.load();\n        },\n\n        bindHandlers : function () {\n            var self = this;\n            this.closeBtn.addEventListener( 'click', function(e){\n                e.preventDefault();\n                self.closePage( 1 );\n            });\n            this.contactBtn.addEventListener( 'click', function(e){\n                self.toggleContact( e.currentTarget );\n                e.preventDefault();\n            });\n            w.addEventListener( 'resize', d1.debounce( function(){ self.setSizable(); }, 200 ));\n        },\n        \n        load : function () {\n            var self = this;\n            if ( d.readyState === 'complete' ) {\n                self.onLoad();\n            } else {\n                w.addEventListener( 'load', function () { self.onLoad(); } );\n            }\n        },\n\n        onLoad : function () {\n            var self = this;\n\n            self.insertMail();\n\n            if ( self.wWidth <= 780 ) {\n                this.navMobile = d.getElementById( 'nav-mobile' );\n                this.navMobile.addEventListener( 'click', function(e){\n                    self.shiftPages(e);\n                });\n            }\n\n            //this.ga();\n        },\n\n        insertMail : function () {\n            var el = d.getElementById( 'mail' ),\n                a = d.createElement( 'a' ),\n                addr = this.mail[0] + '@' + this.mail[1] + '.' + this.mail[2],\n                txt = d.createTextNode( addr );\n            a.href = 'mailto:' + addr;\n            a.appendChild( txt );\n            el.appendChild( a );\n        },\n\n        /**\n         * Push state.\n         * @param state\n         */\n        setHistory : function ( state ) {\n            if ( this.hasHistory ) {\n                w.history.pushState( state, state.title, state.url );\n            }\n            this.resetDocument( state );\n        },\n\n        /**\n         * Pop state\n         * @param state\n         */\n        handlePopState : function ( state ) {\n            if ( !state.id ) {\n                this.closePage( 0 );\n            } else {\n                this.views.grid.launchPage( d.getElementById( state.id ), state );\n            }\n            this.resetDocument( state );\n        },\n\n        /**\n         * Set doc title & send to Google Analytics.\n         * @param state\n         */\n        resetDocument : function ( state ) {\n            d.title = state.url === '/'\n                ? this.initial.siteTitle\n                : state.title + ' • ' + this.initial.siteTitle;\n\n            /* if ( w.ga ) w.ga( 'send', 'pageview', state.url ); */\n        },\n        \n        toggleCloseBtn : function ( show, test ) {\n            if ( test ) {\n                show = this.views.grid.activeColumn ? 1 : 0;\n            }\n            this.closeBtn.classList[ show ? 'remove' : 'add' ]( 'hide' );\n        },\n\n        closePage : function ( setHistory ) {\n            this.toggleCloseBtn( 0 );\n            this.views.grid.shrinkColumn();\n            if ( setHistory ) {\n                this.setHistory({\n                    id : null,\n                    title : this.initial.title,\n                    url : '/'\n                });\n            }\n        },\n\n        toggleContact : function ( button ) {\n            var self = this,\n                scrollTo;\n\n            if ( self.showingContact ) {\n                scrollTo = 0;\n                self.toggleCloseBtn( 1, true );\n            } else {\n                scrollTo = d.getElementById( 'pages' ).clientHeight;\n                self.toggleContactVisibility( 1 );\n                this.toggleCloseBtn( 0 );\n            }\n\n            self.showingContact = !self.showingContact;\n\n            goScroll({\n                to : scrollTo,\n                speed: 3,\n                context : d.getElementById( 'pages' ),\n                callback : function () {\n                    if ( !self.showingContact ) {\n                        self.toggleContactVisibility(0);\n                        button.innerHTML = 'contact';\n                    } else {\n                        button.innerHTML = 'back';\n                    }\n                }\n            });\n        },\n\n        toggleContactVisibility : function ( show ) {\n            d.getElementById('contact').parentNode.classList[ show ? 'remove' : 'add' ]( 'invisible' );\n        },\n\n        shiftPages : function ( e ) {\n            var btn = e.target,\n                id;\n\n            if ( btn.tagName.toLowerCase() === 'button' ) {\n\n                id = +btn.getAttribute('data-id');\n\n                this.navMobile.querySelector('.active').classList.remove('active');\n\n                if ( id !== this.currentPage ) {\n                    this.currentPage = id;\n                    this.toggleCloseBtn( 0 );\n                    this.views.grid.shrinkColumn( id +1 );\n                    w.history.replaceState( this.initial, this.initial.siteTitle, '/' );\n                    this.views.grid.el.style.transform = 'translate3d(-'+(id*25)+'%,0,0)';\n                    btn.classList.add('active');\n                }\n            }\n        },\n\n        setSizable : function () {\n            this.wWidth = w.innerWidth;\n            this.gridWidth = this.views.grid.el.clientWidth;\n        }\n    };\n});\n","define('templates',[], function () {\n\n    return {\n        allowImg : function ( image ) {\n            return image && !/-posterframe\\./.test( image ) ? image : null\n        },\n\n        main : function ( title, slug, image ) {\n            return '<main data-slug=\"'+ slug +'\">'\n                        + '<article>'\n                            + '<h2>' + title + '</h2>'\n                            + ( this.allowImg( image )\n                                ? '<img src=\"' + image + '\" alt=\"' + title + '\">'\n                                : '' )\n                            + '<div class=\"xhr-root\"><p class=\"about\">Loading...</p></div>'\n                        + '</article>'\n                 + '</main>';\n        },\n\n        content : function ( data ) {\n            var html = '',\n                liString = '',\n                li = [], i = 0,\n                videoSources = '', m, j,\n                media = data.meta && data.meta.media ? data.meta.media : [],\n                l = media.length;\n\n            if ( data.content ) {\n                html = '<div class=\"about\">' + data.content + '</div>';\n            }\n\n            for ( i; i < l; i++ ) {\n                if ( typeof media[i].src === 'string' ) {\n                    liString = '<li><img src=\"' + media[i].src + '\" alt=\"' + data.meta.title + '\"></li>';\n                } else {\n                    for ( j = 0, m = media[i].src.length; j < m; j++ ) {\n                        videoSources += '<source src=\"' + media[i].src[j].url + '\" type=\"' + media[i].src[j].mime + '\">'\n                    }\n                    liString = '<li><video controls preload poster=\"' + media[i].poster + '\">'\n                                + videoSources\n                             + '</video></li>';\n                }\n                li.push( liString );\n            }\n            return html + '<ul>' + li.join('') + '</ul>';\n        }\n    }\n});\n","// Backbone.NativeAjax.js 0.3.2 | (c) 2014 Adam Krebs, Paul Miller, Exoskeleton Project | MIT license | https://github.com/akre54/Backbone.NativeAjax\ndefine('xhr',[], function ()\n{\n    var ajax = (function() {\n        var xmlRe = /^(?:application|text)\\/xml/,\n            jsonRe = /^application\\/json/,\n\n            getData = function(accepts, xhr) {\n                if (accepts == null) accepts = xhr.getResponseHeader('content-type');\n                if (xmlRe.test(accepts)) {\n                    return xhr.responseXML;\n                } else if (jsonRe.test(accepts) && xhr.responseText !== '') {\n                    return JSON.parse(xhr.responseText);\n                } else {\n                    return xhr.responseText;\n                }\n            },\n\n            isValid = function(xhr) {\n                return (xhr.status >= 200 && xhr.status < 300) ||\n                    (xhr.status === 304) ||\n                    (xhr.status === 0 && window.location.protocol === 'file:')\n            },\n\n            end = function( xhr, options, resolve, reject )\n            {\n                return function()\n                {\n                    if ( xhr.readyState !== 4 ) return;\n\n                    var status = xhr.status, error,\n                        data = getData( options.headers && options.headers.Accept, xhr );\n\n                    // Check for validity.\n                    if ( isValid( xhr ) ) {\n                        if ( options.success ) options.success( data );\n\n                        if ( resolve ) resolve( data );\n                    } else {\n                        error = new Error( 'Server responded with a status of ' + status );\n                        if ( options.error ) options.error( xhr, status, error );\n                        if ( reject ) reject( xhr );\n                    }\n                }\n            };\n\n        return function ( options )\n        {\n            var key, resolve, reject, xhr;\n\n            if ( options == null ) throw new Error( 'You must provide options' );\n            if ( options.type == null ) options.type = 'GET';\n\n            xhr = new XMLHttpRequest();\n\n            var PromiseFn = ajax.Promise || (typeof Promise !== 'undefined' && Promise);\n            var promise = PromiseFn && new PromiseFn(function(res, rej) {\n                    resolve = res;\n                    reject = rej;\n                });\n\n            options.headers = options.headers || {};\n\n            if (options.contentType) {\n                options.headers['Content-Type'] = options.contentType;\n            }\n\n            // Stringify GET query params.\n            if (options.type === 'GET' && typeof options.data === 'object') {\n                var query = '';\n                var stringifyKeyValuePair = function(key, value) {\n                    return value == null ? '' :\n                    '&' + encodeURIComponent(key) +\n                    '=' + encodeURIComponent(value);\n                };\n                for ( key in options.data ) {\n                    if ( options.data.hasOwnProperty( key ) ) {\n                        query += stringifyKeyValuePair( key, options.data[key] );\n                    }\n                }\n\n                if (query) {\n                    var sep = (options.url.indexOf('?') === -1) ? '?' : '&';\n                    options.url += sep + query.substring(1);\n                }\n            }\n\n            xhr.onreadystatechange = end( xhr, options, resolve, reject );\n\n            xhr.open(options.type, options.url, true);\n\n            var allTypes = \"*/\".concat(\"*\");\n            var xhrAccepts = {\n                \"*\": allTypes,\n                text: \"text/plain\",\n                html: \"text/html\",\n                xml: \"application/xml, text/xml\",\n                json: \"application/json, text/javascript\"\n            };\n\n            xhr.setRequestHeader(\n                \"Accept\",\n                options.dataType && xhrAccepts[options.dataType] ?\n                xhrAccepts[options.dataType] + (options.dataType !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n                    xhrAccepts[\"*\"]\n            );\n\n            if (options.headers) {\n                for ( key in options.headers ) {\n                    if ( !options.headers.hasOwnProperty( key ) ) continue;\n                    xhr.setRequestHeader( key, options.headers[key] );\n                }\n            }\n\n            if (options.beforeSend) options.beforeSend(xhr);\n            xhr.send(options.data);\n\n            return promise;\n        };\n    })();\n    return ajax;\n});\n","define('gistHandle',[], function () {\n    'use strict';\n\n    var w = window,\n        d = w.document;\n\n    w.handleGist = function(r) {\n        d.getElementsByClassName('gist')[0].innerHTML = r.div;\n    };\n\n    function createHandler(id) {\n        w['handleGist_' + id] = (function(id){\n            return function(response){\n                insertStyleSheet(response);\n                insert(response, id);\n            }\n        })(id)\n    }\n\n    function insert(response, id) {\n        var src = d.querySelector('.gist[src*=\"' + id + '\"]'),\n            wrap = d.createElement('div');\n        wrap.innerHTML = response.div;\n        src.parentNode.insertBefore(wrap, src.nextSibling);\n        src.parentNode.removeChild(src);\n    }\n\n    function insertStyleSheet(response) {\n        if (response.stylesheet && !d.querySelector('link[href=\"' + response.stylesheet + '\"]')) {\n            var linkTag = d.createElement('link'),\n                head = d.getElementsByTagName('head')[0];\n            linkTag.type = 'text/css';\n            linkTag.rel = 'stylesheet';\n            linkTag.href = response.stylesheet;\n            head.insertBefore(linkTag, head.firstChild);\n        }\n    }\n\n    function extractId(url) {\n        return url.split('/').pop().replace(/\\.js$/, '');\n    }\n\n    return function (src) {\n        var id = extractId(src),\n            tag = d.createElement('script');\n        tag.src = 'https://gist.github.com/' + id + '.json?callback=handleGist_' + id;\n        createHandler(id);\n        d.body.appendChild(tag);\n    }\n});\n","define('Page',[\n    'app',\n    'templates',\n    'xhr',\n    'gistHandle'\n], function (app, templates, xhr, gistHandle) {\n    'use strict';\n\n    var w = window,\n        d = w.document,\n\n        Page = function (options, state) {\n            var el = options.el || this.getActiveItem(),\n                id = el.id || 'h' + new Date().getTime(), // we need an id to be able to pass the element through history\n                slug = el.getAttribute('href');\n\n            options.id = el.id = id;\n            options.slug = slug;\n            options.column = options.column || app.views.grid.getContentColumn(el);\n\n            this.options = options;\n            this.el = el;\n\n            options.column.scrollTop = 0;\n\n            // this is already done if it was a single page load request\n            if (!(app.initial.isSingle && app.initial.pageLoad)) {\n                this.fetch(options, state);\n                app.toggleCloseBtn(1);\n            } else {\n                //this.gaTrackVideo();\n            }\n\n            // on page load and through history,\n            // no need to set state.\n            if (!state && !app.initial.pageLoad) {\n                app.setHistory({\n                    id: id,\n                    title: this.getTitle(options.el),\n                    url: slug\n                });\n            }\n        };\n\n    Page.prototype = {\n\n        /**\n         * If one page load one of the content columns is open,\n         * it will have a data-slug, which can be used to find it's corresponding item.\n         * @returns {Element}\n         */\n        getActiveItem: function () {\n            var slug = d.querySelector('.open main').getAttribute('data-slug'),\n                item = d.querySelector('a.item[href=\"' + slug + '\"]');\n\n            if (item) {\n                item.classList.add('active');\n            }\n\n            return item;\n        },\n\n        getTitle: function (el) {\n            return el.getAttribute('data-title') || el.getElementsByTagName('h2')[0].textContent\n        },\n\n        fetch: function (options, state) {\n            var self = this;\n\n            this.options.column.innerHTML = templates.main(\n                this.el.getAttribute('data-title'),\n                options.slug,\n                this.el.getAttribute('data-img')\n            );\n\n            if (state) {\n                return this.render(app.data[options.id]);\n            }\n\n            xhr({\n                url: options.slug.replace(/\\/$/, '') + '?get',  // 'blog/title/?get' returns 404\n                success: function (r) {\n                    if (r.errors) {\n                        r.content = '<p class=\"err-xhr\"> ¡SERVER ERROR &mdash; NO DATA RETRIEVED! </p>';\n                    }\n                    app.data[options.id] = r;\n                    self.render(r);\n                },\n                error: function (xhr, status, error) {\n                    self.render({\n                        content: '<p class=\"err-xhr\"> ¡NETWORK ERROR [' + status + '] &mdash; ' + error.toString().toUpperCase() + '! </p>'\n                    });\n                }\n            });\n        },\n\n        render: function (data) {\n            var parent = this.options.column.getElementsByClassName('xhr-root')[0];\n            parent.innerHTML = templates.content(data);\n            this.evalGists(parent);\n            //this.gaTrackVideo();\n        },\n\n        evalGists: function (parent) {\n            var tags = parent.getElementsByClassName('gist');\n            app.util.elementArray(tags).forEach(function(tag) {\n                gistHandle(tag.src);\n            })\n        },\n\n        destroy: function () {\n            this.options.column.innerHTML = '';\n        }\n    };\n    return Page;\n});\n","define('Grid',[\n    'app',\n    'Page'\n], function (app, Page) {\n    'use strict';\n\n    var w = window,\n        d = w.document,\n        isTouch = app.util.isTouch,\n        mouseTick = false,\n        isShowingThumb = 0,\n\n        requestMouseMoveUpdate = function (e, ctx) {\n            if (!mouseTick) {\n                var self = this;\n                w.requestAnimationFrame(function () {\n                    self.showHoverImage(e, ctx);\n                });\n            }\n            mouseTick = true;\n        },\n\n        Grid = function (options) {\n            var items = options.el.querySelectorAll('a.item, .blog a');\n\n            this.el = options.el;\n            this.thumb = d.getElementById('thumb');\n            this.activeColumn = d.querySelector('.col.open');\n\n            this.bindHandlers(items);\n            this.onTransitionEnd('width');\n        };\n\n    Grid.prototype = {\n\n        bindHandlers: function (items) {\n            var self = this,\n                i = 0, l = items.length,\n                img,\n                itemClickHandle = function (e) {\n                    if (e.currentTarget.target === '_blank') {\n                        return true;\n                    }\n                    e.preventDefault();\n                    if (!e.currentTarget.classList.contains('active')) {\n                        self.hideThumb();\n                        self.launchPage(e.currentTarget);\n                    } else {\n                        w.history.back();\n                    }\n                },\n                itemMouseMoveHandle = function (e) {\n                    requestMouseMoveUpdate.call(self, e, this);\n                },\n                itemMouseOutHandle = function () {\n                    self.hideThumb();\n                };\n\n            for (i; i < l; i++) {\n                items[i].addEventListener('click', itemClickHandle);\n\n                img = items[i].getAttribute('data-img');\n\n                if (img && !isTouch) {\n                    self.preloadImage(img);\n                    items[i].addEventListener('mousemove', itemMouseMoveHandle);\n                    items[i].addEventListener('mouseleave', itemMouseOutHandle);\n                }\n            }\n            if (!isTouch) {\n                self.thumb.addEventListener('mouseenter', itemMouseOutHandle);\n            }\n        },\n\n        preloadImage: function (src) {\n            var img = new Image();\n            img.src = src;\n        },\n\n        /**\n         * @param e\n         * @param item, 'this' passed from event handler, currentTarget didn't work in sf9\n         */\n        showHoverImage: function (e, item) {\n            var src = item.getAttribute('data-img');\n\n            this.thumb.style.top = e.pageY + 'px';\n            this.thumb.style.left = e.pageX + 'px';\n\n            if (isShowingThumb !== src) {\n                this.setThumb(src);\n            }\n\n            mouseTick = false;\n        },\n\n        setThumb: function (src) {\n            isShowingThumb = src;\n            this.thumb.style.display = 'block';\n            this.thumb.innerHTML = '<img src=\"' + src + '\" width=\"150px\">';\n        },\n\n        hideThumb: function () {\n            isShowingThumb = 0;\n            this.thumb.style.display = 'none';\n        },\n\n        onTransitionEnd: function (property) {\n            var self = this;\n\n            this.el.addEventListener('transitionend', function (e) {\n                if (e.propertyName === property) {\n                    if (!self.activeColumn) {\n                        self.onColumnShrunk(e.target);\n                    } else {\n                        self.onColumnExpanded(e.target);\n                    }\n                }\n            });\n        },\n\n        launchPage: function (item, state) {\n            var self = this,\n                contentColumn = self.getContentColumn(item),\n                label = /(blog)/.test(item.href) ? 'blog' : contentColumn.id;\n\n            this.unsetActiveItem();\n\n            item.classList.add('active');\n\n            self.activeColumn = contentColumn;\n            self.activeColumnIndex = app.util.elementIndex(contentColumn);\n\n            app.views.page = new Page({\n                el: item,\n                column: contentColumn\n            }, state);\n\n            switch (label) {\n                case 'online':\n                    self.shiftGrid(contentColumn);\n                    self.expandColumn(contentColumn);\n                    break;\n                case 'offline':\n                    self.shiftGrid(contentColumn);\n                    w.setTimeout(function () {\n                        self.expandColumn(contentColumn);\n                    }, 250);\n                    break;\n                case 'blog':\n                    self.expandColumn(contentColumn, 1);\n                    w.setTimeout(function () {\n                        self.shiftGrid(contentColumn, 1);\n                    }, 200);\n                    break;\n            }\n        },\n\n        getContentColumn: function (item) {\n            var parentColumn = app.util.parent(item, 'section');\n            return d.getElementById(parentColumn.getAttribute('data-id'));\n        },\n\n        expandColumn: function (contentColumn, forBlog) {\n            contentColumn.classList.remove('invisible');\n\n            w.requestAnimationFrame(function () {\n                if (forBlog) {\n                    contentColumn.classList.add('open', 'as-blog');\n                } else {\n                    contentColumn.classList.remove('as-blog');\n                    contentColumn.classList.add('open');\n                }\n            });\n        },\n\n        shiftGrid: function (column, forBlog) {\n            var self = this,\n                leftShift = 0;\n\n            if (app.wWidth >= 780) {\n                switch (column.id) {\n                    case 'online':\n                        leftShift = 0;\n                        break;\n                    case 'offline':\n                        leftShift = forBlog ? 2 : 1;\n                        break;\n                }\n                leftShift = Math.ceil(app.gridWidth * (11 * (leftShift)) / 100);\n            } else {\n                leftShift = self.mobileGridShift();\n            }\n\n            w.requestAnimationFrame(function () {\n                self.el.style.transform = 'translate3d(-' + leftShift + 'px,0,0)';\n            });\n        },\n\n        mobileGridShift: function () {\n            var columnIndex = this.activeColumnIndex > 1 ? this.activeColumnIndex - 1 : 1;\n            return Math.ceil(app.gridWidth * (25 * (columnIndex)) / 100);\n        },\n\n        // transitions disabled on mobile, this is not called\n        onColumnExpanded: function () {\n            this.toggleColumnVisibility(0);\n        },\n\n        shrinkColumn: function (overrideColumnID) {\n            var self = this,\n                column = self.activeColumn;\n\n            if (!column) {\n                return;\n            } // for the mobile nav buttons\n\n            column.classList.remove('open');\n\n            self.unsetActiveItem();\n\n            self.toggleColumnVisibility(1);\n\n            w.requestAnimationFrame(function () {\n                var shift;\n\n                column.classList.remove('open');\n\n                if (app.wWidth >= 780) {\n                    self.el.style.transform = 'translate3d(0,0,0)';\n                } else {\n                    self.activeColumnIndex = overrideColumnID || self.activeColumnIndex;\n                    shift = self.activeColumnIndex === 1 ? 0 : Math.ceil(app.gridWidth * 25 / 100);\n                    self.el.style.transform = 'translate3d(-' + shift + 'px,0,0)';\n                }\n\n                self.activeColumn = null;\n                self.activeColumnIndex = null;\n            });\n        },\n\n        unsetActiveItem: function () {\n            var item = d.querySelector('a.item.active');\n\n            if (item) {\n                item.classList.remove('active');\n            }\n        },\n\n        // transitions disabled on mobile, this is not called\n        onColumnShrunk: function (column) {\n            w.requestAnimationFrame(function () {\n                column.classList.add('invisible');\n                app.views.page.destroy();\n                delete app.views.page;\n            });\n        },\n\n        toggleColumnVisibility: function (show) {\n            var cols = app.util.elementArray(d.getElementsByClassName('col')),\n                activeIndex = this.activeColumnIndex - 1,\n                i = 0;\n\n            cols.splice(activeIndex, 2);\n\n            for (i; i < cols.length; i++) {\n                //cols[i].classList[ show ? 'remove' : 'add' ]( 'invisible' );\n            }\n        }\n    };\n    return Grid;\n});\n",";(function (w) {\n    'use strict';\n\n    var d = w.document;\n\n    require.config({\n        baseUrl: '/resources/js',\n        paths: {\n            xhr: \"vendor/xhr\",\n            goScroll: \"vendor/goScroll\",\n            d1: \"modules/d1\",\n\n            app: \"app\",\n            templates: \"modules/pageTpl\",\n            Grid: \"modules/Grid\",\n            Page: \"modules/Page\",\n            gistHandle: \"modules/gist-handle\"\n        }\n    });\n\n    require(['app', 'Grid', 'Page'], function (app, Grid, Page) {\n        var isWin = !w.navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i),\n            state = {\n                pageLoad: 1,\n                isSingle: w.location.pathname !== '/',\n                siteTitle: d.getElementById('site-title').getAttribute('content'),\n                title: d.title,\n                url: w.location.href\n            };\n\n        if (isWin) d.body.classList.add('is-win');\n\n        d.body.classList.add(app.util.isTouch ? 'is-touch' : 'no-touch');\n\n        // History handling\n        if (app.hasHistory) {\n            // On pop state launch view\n            w.addEventListener('popstate', function (e) {\n                // prevent pop state on first load for Safari & Chrome 34-\n                if (!e.state) return;\n                app.handlePopState(e.state);\n            });\n\n            // Replace initial state to store the initial content so we can revisit it later.\n            w.history.replaceState(state, state.title, state.url);\n        }\n\n        // Set up grid\n        app.views.grid = new Grid({\n            el: d.getElementById('grid')\n        });\n\n        // Start\n        app.initialize(state);\n\n        // Set up the page, if needed\n        if (state.isSingle) {\n            app.views.page = new Page({});\n            app.views.grid.shiftGrid(d.querySelector('.col.open'), /(blog)/.test(w.location.pathname));\n            app.views.grid.onColumnExpanded();\n        }\n\n        app.initial.pageLoad = 0;\n    });\n})(window);\ndefine(\"index.js\", function(){});\n\n"]}