{"version":3,"sources":["../../config-wrap-start-default.js","../../node_modules/almond/almond.js","modules/d1.js","../../node_modules/go-scroll-to/goScroll.js","app.js","modules/pageTpl.js","modules/gist-handle.js","modules/Page.js","modules/Grid.js","index.js"],"names":["requirejs","require","define","undef","hasProp","obj","prop","hasOwn","call","normalize","name","baseName","nameParts","nameSegment","mapValue","foundMap","lastIndex","foundI","foundStarMap","starI","i","j","part","normalizedBaseParts","baseParts","split","map","config","starMap","length","nodeIdCompat","jsSuffixRegExp","test","replace","charAt","slice","concat","splice","join","makeRequire","relName","forceSync","args","aps","arguments","push","req","apply","makeNormalize","makeLoad","depName","value","defined","callDep","waiting","defining","main","Error","splitPrefix","prefix","index","indexOf","substring","makeRelParts","makeConfig","makeMap","handlers","Object","prototype","hasOwnProperty","relParts","plugin","parts","relResourceName","f","n","pr","p","exports","e","module","id","uri","deps","callback","cjsModule","ret","usingExports","callbackType","load","undefined","alt","setTimeout","cfg","_defined","amd","jQuery","w","window","navigator","D","scrDensity","devicePixelRatio","isTouch","MaxTouchPoints","msMaxTouchPoints","debounce","func","wait","immediate","timeout","context","this","clearTimeout","parent","element","tagname","toLowerCase","tagName","parentNode","elementArray","nodeList","Array","elementIndex","node","previousElementSibling","d","easeOutQuad","t","b","c","Math","round","position","el","top","offsetParent","offsetTop","listen","scrolling","go","options","scroll","now","Date","targetTime","handleScroll","startTime","startPos","distance","duration","requestAnimationFrame","targetPos","offset","removeEventListener","stopEvent","body","className","css_regex","to","nodeType","abs","speed","SPEED","y","scrollTop","scrollTo","CLASSNAME","addEventListener","RegExp","createElement","onmousewheel","goScroll","document","d1","util","initial","views","data","mail","resolution","max","screen","width","height","hasHistory","history","pushState","state","showingContact","initialize","initialState","closeBtn","getElementById","contactBtn","setSizable","bindHandlers","self","preventDefault","closePage","toggleContact","currentTarget","readyState","onLoad","insertMail","wWidth","navMobile","shiftPages","a","addr","txt","createTextNode","href","appendChild","setHistory","time","getTime","resetDocument","title","url","handlePopState","grid","launchPage","siteTitle","toggleCloseBtn","show","activeColumn","classList","shrinkColumn","button","clientHeight","toggleContactVisibility","innerHTML","btn","target","getAttribute","querySelector","remove","currentPage","replaceState","style","transform","add","innerWidth","gridWidth","clientWidth","allowImg","image","slug","date","content","m","html","liString","li","videoSources","media","meta","l","src","mime","poster","createHandler","response","insertStyleSheet","insert","wrap","div","insertBefore","nextSibling","removeChild","stylesheet","linkTag","head","getElementsByTagName","type","rel","firstChild","extractId","pop","handleGist","r","getElementsByClassName","tag","app","templates","gistHandle","Page","getActiveItem","column","getContentColumn","isSingle","pageLoad","fetch","getTitle","item","textContent","render","then","json","catch","error","status","toString","toUpperCase","evalGists","tags","forEach","destroy","mouseTick","isShowingThumb","requestMouseMoveUpdate","ctx","showHoverImage","Grid","items","querySelectorAll","thumb","onTransitionEnd","itemClickHandle","contains","back","hideThumb","itemMouseMoveHandle","itemMouseOutHandle","pageY","left","pageX","setThumb","display","property","propertyName","onColumnExpanded","onColumnShrunk","contentColumn","label","unsetActiveItem","activeColumnIndex","page","shiftGrid","expandColumn","parentColumn","forBlog","leftShift","ceil","mobileGridShift","columnIndex","toggleColumnVisibility","overrideColumnID","shift","cols","activeIndex","loc","location","pathname","baseUrl","paths","isWin","platform","match"],"mappings":"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","file":"index.min.js","sourcesContent":["(function () {\n","/**\n * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.\n * Released under MIT license, http://github.com/requirejs/almond/LICENSE\n */\n//Going sloppy to avoid 'use strict' string cost, but strict practices should\n//be followed.\n/*global setTimeout: false */\n\nvar requirejs, require, define;\n(function (undef) {\n    var main, req, makeMap, handlers,\n        defined = {},\n        waiting = {},\n        config = {},\n        defining = {},\n        hasOwn = Object.prototype.hasOwnProperty,\n        aps = [].slice,\n        jsSuffixRegExp = /\\.js$/;\n\n    function hasProp(obj, prop) {\n        return hasOwn.call(obj, prop);\n    }\n\n    /**\n     * Given a relative module name, like ./something, normalize it to\n     * a real name that can be mapped to a path.\n     * @param {String} name the relative name\n     * @param {String} baseName a real name that the name arg is relative\n     * to.\n     * @returns {String} normalized name\n     */\n    function normalize(name, baseName) {\n        var nameParts, nameSegment, mapValue, foundMap, lastIndex,\n            foundI, foundStarMap, starI, i, j, part, normalizedBaseParts,\n            baseParts = baseName && baseName.split(\"/\"),\n            map = config.map,\n            starMap = (map && map['*']) || {};\n\n        //Adjust any relative paths.\n        if (name) {\n            name = name.split('/');\n            lastIndex = name.length - 1;\n\n            // If wanting node ID compatibility, strip .js from end\n            // of IDs. Have to do this here, and not in nameToUrl\n            // because node allows either .js or non .js to map\n            // to same file.\n            if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {\n                name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');\n            }\n\n            // Starts with a '.' so need the baseName\n            if (name[0].charAt(0) === '.' && baseParts) {\n                //Convert baseName to array, and lop off the last part,\n                //so that . matches that 'directory' and not name of the baseName's\n                //module. For instance, baseName of 'one/two/three', maps to\n                //'one/two/three.js', but we want the directory, 'one/two' for\n                //this normalization.\n                normalizedBaseParts = baseParts.slice(0, baseParts.length - 1);\n                name = normalizedBaseParts.concat(name);\n            }\n\n            //start trimDots\n            for (i = 0; i < name.length; i++) {\n                part = name[i];\n                if (part === '.') {\n                    name.splice(i, 1);\n                    i -= 1;\n                } else if (part === '..') {\n                    // If at the start, or previous value is still ..,\n                    // keep them so that when converted to a path it may\n                    // still work when converted to a path, even though\n                    // as an ID it is less than ideal. In larger point\n                    // releases, may be better to just kick out an error.\n                    if (i === 0 || (i === 1 && name[2] === '..') || name[i - 1] === '..') {\n                        continue;\n                    } else if (i > 0) {\n                        name.splice(i - 1, 2);\n                        i -= 2;\n                    }\n                }\n            }\n            //end trimDots\n\n            name = name.join('/');\n        }\n\n        //Apply map config if available.\n        if ((baseParts || starMap) && map) {\n            nameParts = name.split('/');\n\n            for (i = nameParts.length; i > 0; i -= 1) {\n                nameSegment = nameParts.slice(0, i).join(\"/\");\n\n                if (baseParts) {\n                    //Find the longest baseName segment match in the config.\n                    //So, do joins on the biggest to smallest lengths of baseParts.\n                    for (j = baseParts.length; j > 0; j -= 1) {\n                        mapValue = map[baseParts.slice(0, j).join('/')];\n\n                        //baseName segment has  config, find if it has one for\n                        //this name.\n                        if (mapValue) {\n                            mapValue = mapValue[nameSegment];\n                            if (mapValue) {\n                                //Match, update name to the new value.\n                                foundMap = mapValue;\n                                foundI = i;\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                if (foundMap) {\n                    break;\n                }\n\n                //Check for a star map match, but just hold on to it,\n                //if there is a shorter segment match later in a matching\n                //config, then favor over this star map.\n                if (!foundStarMap && starMap && starMap[nameSegment]) {\n                    foundStarMap = starMap[nameSegment];\n                    starI = i;\n                }\n            }\n\n            if (!foundMap && foundStarMap) {\n                foundMap = foundStarMap;\n                foundI = starI;\n            }\n\n            if (foundMap) {\n                nameParts.splice(0, foundI, foundMap);\n                name = nameParts.join('/');\n            }\n        }\n\n        return name;\n    }\n\n    function makeRequire(relName, forceSync) {\n        return function () {\n            //A version of a require function that passes a moduleName\n            //value for items that may need to\n            //look up paths relative to the moduleName\n            var args = aps.call(arguments, 0);\n\n            //If first arg is not require('string'), and there is only\n            //one arg, it is the array form without a callback. Insert\n            //a null so that the following concat is correct.\n            if (typeof args[0] !== 'string' && args.length === 1) {\n                args.push(null);\n            }\n            return req.apply(undef, args.concat([relName, forceSync]));\n        };\n    }\n\n    function makeNormalize(relName) {\n        return function (name) {\n            return normalize(name, relName);\n        };\n    }\n\n    function makeLoad(depName) {\n        return function (value) {\n            defined[depName] = value;\n        };\n    }\n\n    function callDep(name) {\n        if (hasProp(waiting, name)) {\n            var args = waiting[name];\n            delete waiting[name];\n            defining[name] = true;\n            main.apply(undef, args);\n        }\n\n        if (!hasProp(defined, name) && !hasProp(defining, name)) {\n            throw new Error('No ' + name);\n        }\n        return defined[name];\n    }\n\n    //Turns a plugin!resource to [plugin, resource]\n    //with the plugin being undefined if the name\n    //did not have a plugin prefix.\n    function splitPrefix(name) {\n        var prefix,\n            index = name ? name.indexOf('!') : -1;\n        if (index > -1) {\n            prefix = name.substring(0, index);\n            name = name.substring(index + 1, name.length);\n        }\n        return [prefix, name];\n    }\n\n    //Creates a parts array for a relName where first part is plugin ID,\n    //second part is resource ID. Assumes relName has already been normalized.\n    function makeRelParts(relName) {\n        return relName ? splitPrefix(relName) : [];\n    }\n\n    /**\n     * Makes a name map, normalizing the name, and using a plugin\n     * for normalization if necessary. Grabs a ref to plugin\n     * too, as an optimization.\n     */\n    makeMap = function (name, relParts) {\n        var plugin,\n            parts = splitPrefix(name),\n            prefix = parts[0],\n            relResourceName = relParts[1];\n\n        name = parts[1];\n\n        if (prefix) {\n            prefix = normalize(prefix, relResourceName);\n            plugin = callDep(prefix);\n        }\n\n        //Normalize according\n        if (prefix) {\n            if (plugin && plugin.normalize) {\n                name = plugin.normalize(name, makeNormalize(relResourceName));\n            } else {\n                name = normalize(name, relResourceName);\n            }\n        } else {\n            name = normalize(name, relResourceName);\n            parts = splitPrefix(name);\n            prefix = parts[0];\n            name = parts[1];\n            if (prefix) {\n                plugin = callDep(prefix);\n            }\n        }\n\n        //Using ridiculous property names for space reasons\n        return {\n            f: prefix ? prefix + '!' + name : name, //fullName\n            n: name,\n            pr: prefix,\n            p: plugin\n        };\n    };\n\n    function makeConfig(name) {\n        return function () {\n            return (config && config.config && config.config[name]) || {};\n        };\n    }\n\n    handlers = {\n        require: function (name) {\n            return makeRequire(name);\n        },\n        exports: function (name) {\n            var e = defined[name];\n            if (typeof e !== 'undefined') {\n                return e;\n            } else {\n                return (defined[name] = {});\n            }\n        },\n        module: function (name) {\n            return {\n                id: name,\n                uri: '',\n                exports: defined[name],\n                config: makeConfig(name)\n            };\n        }\n    };\n\n    main = function (name, deps, callback, relName) {\n        var cjsModule, depName, ret, map, i, relParts,\n            args = [],\n            callbackType = typeof callback,\n            usingExports;\n\n        //Use name if no relName\n        relName = relName || name;\n        relParts = makeRelParts(relName);\n\n        //Call the callback to define the module, if necessary.\n        if (callbackType === 'undefined' || callbackType === 'function') {\n            //Pull out the defined dependencies and pass the ordered\n            //values to the callback.\n            //Default to [require, exports, module] if no deps\n            deps = !deps.length && callback.length ? ['require', 'exports', 'module'] : deps;\n            for (i = 0; i < deps.length; i += 1) {\n                map = makeMap(deps[i], relParts);\n                depName = map.f;\n\n                //Fast path CommonJS standard dependencies.\n                if (depName === \"require\") {\n                    args[i] = handlers.require(name);\n                } else if (depName === \"exports\") {\n                    //CommonJS module spec 1.1\n                    args[i] = handlers.exports(name);\n                    usingExports = true;\n                } else if (depName === \"module\") {\n                    //CommonJS module spec 1.1\n                    cjsModule = args[i] = handlers.module(name);\n                } else if (hasProp(defined, depName) ||\n                           hasProp(waiting, depName) ||\n                           hasProp(defining, depName)) {\n                    args[i] = callDep(depName);\n                } else if (map.p) {\n                    map.p.load(map.n, makeRequire(relName, true), makeLoad(depName), {});\n                    args[i] = defined[depName];\n                } else {\n                    throw new Error(name + ' missing ' + depName);\n                }\n            }\n\n            ret = callback ? callback.apply(defined[name], args) : undefined;\n\n            if (name) {\n                //If setting exports via \"module\" is in play,\n                //favor that over return value and exports. After that,\n                //favor a non-undefined return value over exports use.\n                if (cjsModule && cjsModule.exports !== undef &&\n                        cjsModule.exports !== defined[name]) {\n                    defined[name] = cjsModule.exports;\n                } else if (ret !== undef || !usingExports) {\n                    //Use the return value from the function.\n                    defined[name] = ret;\n                }\n            }\n        } else if (name) {\n            //May just be an object definition for the module. Only\n            //worry about defining if have a module name.\n            defined[name] = callback;\n        }\n    };\n\n    requirejs = require = req = function (deps, callback, relName, forceSync, alt) {\n        if (typeof deps === \"string\") {\n            if (handlers[deps]) {\n                //callback in this case is really relName\n                return handlers[deps](callback);\n            }\n            //Just return the module wanted. In this scenario, the\n            //deps arg is the module name, and second arg (if passed)\n            //is just the relName.\n            //Normalize module name, if it contains . or ..\n            return callDep(makeMap(deps, makeRelParts(callback)).f);\n        } else if (!deps.splice) {\n            //deps is a config object, not an array.\n            config = deps;\n            if (config.deps) {\n                req(config.deps, config.callback);\n            }\n            if (!callback) {\n                return;\n            }\n\n            if (callback.splice) {\n                //callback is an array, which means it is a dependency list.\n                //Adjust args if there are dependencies\n                deps = callback;\n                callback = relName;\n                relName = null;\n            } else {\n                deps = undef;\n            }\n        }\n\n        //Support require(['a'])\n        callback = callback || function () {};\n\n        //If relName is a function, it is an errback handler,\n        //so remove it.\n        if (typeof relName === 'function') {\n            relName = forceSync;\n            forceSync = alt;\n        }\n\n        //Simulate async callback;\n        if (forceSync) {\n            main(undef, deps, callback, relName);\n        } else {\n            //Using a non-zero value because of concern for what old browsers\n            //do, and latest browsers \"upgrade\" to 4 if lower value is used:\n            //http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#dom-windowtimers-settimeout:\n            //If want a value immediately, use require('id') instead -- something\n            //that works in almond on the global level, but not guaranteed and\n            //unlikely to work in other AMD implementations.\n            setTimeout(function () {\n                main(undef, deps, callback, relName);\n            }, 4);\n        }\n\n        return req;\n    };\n\n    /**\n     * Just drops the config on the floor, but returns req in case\n     * the config return value is used.\n     */\n    req.config = function (cfg) {\n        return req(cfg);\n    };\n\n    /**\n     * Expose module registry for debugging and tooling\n     */\n    requirejs._defined = defined;\n\n    define = function (name, deps, callback) {\n        if (typeof name !== 'string') {\n            throw new Error('See almond README: incorrect module build, no module name');\n        }\n\n        //This module may not have dependencies\n        if (!deps.splice) {\n            //deps is not an array, so probably means\n            //an object literal or factory function for\n            //the value. Adjust args.\n            callback = deps;\n            deps = [];\n        }\n\n        if (!hasProp(defined, name) && !hasProp(waiting, name)) {\n            waiting[name] = [name, deps, callback];\n        }\n    };\n\n    define.amd = {\n        jQuery: true\n    };\n}());\n\ndefine(\"/mnt/c/arnaud/dock/dotburo-website/node_modules/almond/almond.js\", function(){});\n\n","define('d1',[], function () {\n    'use strict';\n\n    var w = window,\n        navigator = w.navigator,\n        D = {\n            scrDensity: 'devicePixelRatio' in w ? w.devicePixelRatio : 1,\n            isTouch: 'ontouchstart' in w || navigator.MaxTouchPoints > 0 || navigator.msMaxTouchPoints > 0\n        };\n\n    D.debounce = function (func, wait, immediate) {\n        var timeout;\n        return function() {\n            var context = this, args = arguments;\n            clearTimeout(timeout);\n            timeout = setTimeout(function() {\n                timeout = null;\n                if (!immediate) func.apply(context, args);\n            }, wait);\n            if (immediate && !timeout) func.apply(context, args);\n        };\n    };\n\n    D.parent = function( element, tagname ) {\n        tagname = tagname.toLowerCase();\n        do {\n            if (element.tagName.toLowerCase() === tagname)\n                return element;\n        } while (element = element.parentNode);\n        return null;\n    };\n\n    D.elementArray = function ( nodeList ) {\n        return Array.prototype.slice.call( nodeList );\n    };\n\n    D.elementIndex = function ( node ) {\n        var index = 0;\n        while ( node = node.previousElementSibling ) {\n            index++;\n        }\n        return index;\n    };\n\n    return D;\n});\n","(function ( w, d, undefined ) {\n    'use strict';\n\n    var CLASSNAME = 'auto-scrolling',   // className for body element while scrolling\n        SPEED     = 2,                  // default speed\n\n        scrolling = 0,                  // are-we-scrolling flag\n        css_regex = new RegExp( '(?:^|\\\\s)'+CLASSNAME+'(?!\\\\S)', 'gi' ),    // to remove the body className after scrolling\n\n        // if we are using a touch screen use touch start,\n        // else find a wheel event to stop the animation.\n        stopEvent = 'ontouchstart' in w || navigator.MaxTouchPoints > 0 || navigator.msMaxTouchPoints > 0\n                ? 'touchstart'\n                : 'onwheel' in d.createElement( 'div' )\n                    ? 'wheel'                           // ie9+, sf7.0+, ff17.0+, ch31\n                    : d.onmousewheel !== undefined\n                        ? 'mousewheel'                  // ie6+, sf3.0+, ch1.0+\n                        : 'DOMMouseScroll';\n\n    // easing function\n    function easeOutQuad ( t, b, c, d ) {\n        return Math.round( -c *(t/=d)*(t-2) + b );\n    }\n\n    // find the position on an element\n    function position ( el, context ) {\n        var top = 0;\n        if ( el.offsetParent ) {\n            do {\n                top += el.offsetTop;\n            } while ( ( el = el.offsetParent ) && ( el.offsetParent != context ) )\n        }\n        return top;\n    }\n\n    // set are-we-scrolling flag stopEvent handler\n    function listen() { scrolling = 0; }\n\n    function go ( options ) {\n        options = options || {};\n\n        var context = options.context || w,// default context is the window, else a given element\n            targetPos = options.to && options.to.nodeType === 1 ? position(options.to, context) : (options.to || 0),\n            startPos = context[ options.context ? 'scrollTop' : 'pageYOffset' ],\n            distance = (targetPos - (options.offset || 0)) - startPos,\n            startTime = Date.now(),\n            duration = Math.abs( distance / (options.speed || SPEED) ),\n            targetTime = startTime + duration,\n            callback = options.callback,\n            handleScroll = options.context\n                ? function ( y ) { context.scrollTop = y; }\n                : function ( y ) { context.scrollTo( 0, y ); };\n\n        function scroll () {\n            var now = Date.now();\n\n            // scroll for some time\n            if ( scrolling && now <= targetTime ) {\n                handleScroll( easeOutQuad( now - startTime, startPos, distance, duration ) );\n                w.requestAnimationFrame( scroll );\n                return;\n            }\n\n            // time's up\n            // if the animation is still running,\n            // be certain we reached our target position.\n            if ( scrolling ) {\n                w.requestAnimationFrame(function() { handleScroll(targetPos - (options.offset || 0)); });\n            }\n            // callback\n            if ( typeof callback === \"function\" ) {\n                callback.call( context, scrolling );\n            }\n            // remove the stop event handler\n            context.removeEventListener( stopEvent, listen );\n            // remove the body class\n            d.body.className = d.body.className.replace( css_regex, '' );\n        }\n\n        scrolling = 1;                                  // wave the flag\n        d.body.className += ' ' + CLASSNAME;            // we-are-scrolling className\n        context.addEventListener( stopEvent, listen );  // let the user stop the animation\n        w.requestAnimationFrame( scroll );              // go!\n    }\n\n    // UMD\n    if (typeof define === 'function' && define.amd) {\n        define('goScroll',[], function(){ return go; });\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = go;\n    } else {\n        window.goScroll = go;\n    }\n} ( window, document ) );\n","define('app',[\n    'd1',\n    'goScroll'\n], function ( d1, goScroll ) {\n    'use strict';\n\n    var w = window,\n        d = w.document;\n\n    return {\n\n        util : d1,\n        initial: {},\n        views : {},\n        data : {},\n        mail: ['hello', 'dotburo', 'org'],\n        resolution : Math.max( screen.width, screen.height ) * d1.scrDensity,\n        hasHistory : w.history && w.history.pushState && w.history.state !== undefined,\n        showingContact: 0,\n        \n        initialize : function ( initialState ) {\n            \n            this.initial = initialState;\n            this.closeBtn = d.getElementById( 'btn-close' );\n            this.contactBtn = d.getElementById( 'btn-contact' );\n\n            this.setSizable();\n            this.bindHandlers();\n            this.load();\n        },\n\n        bindHandlers : function () {\n            var self = this;\n            this.closeBtn.addEventListener( 'click', function(e){\n                e.preventDefault();\n                self.closePage( 1 );\n            });\n            this.contactBtn.addEventListener( 'click', function(e){\n                self.toggleContact( e.currentTarget );\n                e.preventDefault();\n            });\n            w.addEventListener( 'resize', d1.debounce( function(){ self.setSizable(); }, 200 ));\n        },\n        \n        load : function () {\n            var self = this;\n            if ( d.readyState === 'complete' ) {\n                self.onLoad();\n            } else {\n                w.addEventListener( 'load', function () { self.onLoad(); } );\n            }\n        },\n\n        onLoad : function () {\n            var self = this;\n\n            self.insertMail();\n\n            if ( self.wWidth <= 780 ) {\n                this.navMobile = d.getElementById( 'nav-mobile' );\n                this.navMobile.addEventListener( 'click', function(e){\n                    self.shiftPages(e);\n                });\n            }\n        },\n\n        insertMail : function () {\n            var el = d.getElementById( 'mail' ),\n                a = d.createElement( 'a' ),\n                addr = this.mail[0] + '@' + this.mail[1] + '.' + this.mail[2],\n                txt = d.createTextNode( addr );\n            a.href = 'mailto:' + addr;\n            a.appendChild( txt );\n            el.appendChild( a );\n        },\n\n        /**\n         * Push state.\n         * @param state\n         */\n        setHistory : function ( state ) {\n\n            state.time = (new Date()).getTime();\n            this.resetDocument( state );\n\n            if ( this.hasHistory ) {\n                w.history.pushState( state, state.title, state.url );\n            }\n        },\n\n        /**\n         * Pop state\n         * @param state\n         */\n        handlePopState : function ( state ) {\n\n            state.time = (new Date()).getTime();\n            this.resetDocument( state );\n\n            if ( !state.id ) {\n                this.closePage( 0 );\n            } else {\n                this.views.grid.launchPage( d.getElementById( state.id ), state );\n            }\n        },\n\n        /**\n         * Set doc title & send to Google Analytics.\n         * @param state\n         */\n        resetDocument : function ( state ) {\n            d.title = state.url === '/'\n                ? this.initial.siteTitle\n                : state.title + ' ›_ ' + this.initial.siteTitle;\n        },\n        \n        toggleCloseBtn : function ( show, test ) {\n            if ( test ) {\n                show = this.views.grid.activeColumn ? 1 : 0;\n            }\n            this.closeBtn.classList[ show ? 'remove' : 'add' ]( 'hide' );\n        },\n\n        closePage : function ( setHistory ) {\n            this.toggleCloseBtn( 0 );\n            this.views.grid.shrinkColumn();\n            if ( setHistory ) {\n                this.setHistory({\n                    id : null,\n                    title : this.initial.title,\n                    url : '/'\n                });\n            }\n        },\n\n        toggleContact : function ( button ) {\n            var self = this,\n                scrollTo;\n\n            if ( self.showingContact ) {\n                scrollTo = 0;\n                self.toggleCloseBtn( 1, true );\n            } else {\n                scrollTo = d.getElementById( 'pages' ).clientHeight;\n                self.toggleContactVisibility( 1 );\n                this.toggleCloseBtn( 0 );\n            }\n\n            self.showingContact = !self.showingContact;\n\n            goScroll({\n                to : scrollTo,\n                speed: 3,\n                context : d.getElementById( 'pages' ),\n                callback : function () {\n                    if ( !self.showingContact ) {\n                        self.toggleContactVisibility(0);\n                        button.innerHTML = 'contact';\n                    } else {\n                        button.innerHTML = 'back';\n                    }\n                }\n            });\n        },\n\n        toggleContactVisibility : function ( show ) {\n            d.getElementById('contact').parentNode.classList[ show ? 'remove' : 'add' ]( 'invisible' );\n        },\n\n        shiftPages : function ( e ) {\n            var btn = e.target,\n                id;\n\n            if ( btn.tagName.toLowerCase() === 'button' ) {\n\n                id = +btn.getAttribute('data-id');\n\n                this.navMobile.querySelector('.active').classList.remove('active');\n\n                if ( id !== this.currentPage ) {\n                    this.currentPage = id;\n                    this.toggleCloseBtn( 0 );\n                    this.views.grid.shrinkColumn( id +1 );\n                    w.history.replaceState( this.initial, this.initial.siteTitle, '/' );\n                    this.views.grid.el.style.transform = 'translate3d(-'+(id*25)+'%,0,0)';\n                    btn.classList.add('active');\n                }\n            }\n        },\n\n        setSizable : function () {\n            this.wWidth = w.innerWidth;\n            this.gridWidth = this.views.grid.el.clientWidth;\n        },\n\n    };\n});\n","define('templates',[], function () {\n\n    return {\n        allowImg : function ( image ) {\n            return image && !/-posterframe\\./.test( image ) ? image : null\n        },\n\n        main : function ( title, slug, image, date ) {\n            return '<main data-slug=\"'+ slug +'\">'\n                        + '<article><header>'\n                            + (date ? '<p class=\"title-small\"><time>' + date + '</time></p>' : '')\n                            + '<h2>' + title + '</h2></header>'\n                            + ( this.allowImg( image )\n                                ? '<img src=\"' + image + '\" alt=\"' + title + '\">'\n                                : '' )\n                            + '<div class=\"xhr-root\"><p class=\"about\">Loading...</p></div>'\n                        + '</article>'\n                 + '</main>';\n        },\n\n        content : function ( data ) {\n            var html = '',\n                liString = '',\n                li = [], i = 0,\n                videoSources = '', m, j,\n                media = data.meta && data.meta.media ? data.meta.media : [],\n                l = media.length;\n\n            if ( data.content ) {\n                html = '<div class=\"about\">' + data.content + '</div>';\n            }\n\n            for ( i; i < l; i++ ) {\n                if ( typeof media[i].src === 'string' ) {\n                    liString = '<li><img src=\"' + media[i].src + '\" alt=\"' + data.meta.title + '\"></li>';\n                } else {\n                    for ( j = 0, m = media[i].src.length; j < m; j++ ) {\n                        videoSources += '<source src=\"' + media[i].src[j].url + '\" type=\"' + media[i].src[j].mime + '\">'\n                    }\n                    liString = '<li><video controls preload poster=\"' + media[i].poster + '\">'\n                                + videoSources\n                             + '</video></li>';\n                }\n                li.push( liString );\n            }\n            return html + '<ul>' + li.join('') + '</ul>';\n        }\n    }\n});\n","define('gistHandle',[], function () {\n    'use strict';\n\n    var w = window,\n        d = w.document;\n\n    w.handleGist = function(r) {\n        d.getElementsByClassName('gist')[0].innerHTML = r.div;\n    };\n\n    function createHandler(id) {\n        w['handleGist_' + id] = (function(id){\n            return function(response){\n                insertStyleSheet(response);\n                insert(response, id);\n            }\n        })(id)\n    }\n\n    function insert(response, id) {\n        var src = d.querySelector('.gist[src*=\"' + id + '\"]'),\n            wrap = d.createElement('div');\n        wrap.innerHTML = response.div;\n        src.parentNode.insertBefore(wrap, src.nextSibling);\n        src.parentNode.removeChild(src);\n    }\n\n    function insertStyleSheet(response) {\n        if (response.stylesheet && !d.querySelector('link[href=\"' + response.stylesheet + '\"]')) {\n            var linkTag = d.createElement('link'),\n                head = d.getElementsByTagName('head')[0];\n            linkTag.type = 'text/css';\n            linkTag.rel = 'stylesheet';\n            linkTag.href = response.stylesheet;\n            head.insertBefore(linkTag, head.firstChild);\n        }\n    }\n\n    function extractId(url) {\n        return url.split('/').pop().replace(/\\.js$/, '');\n    }\n\n    return function (src) {\n        var id = extractId(src),\n            tag = d.createElement('script');\n        tag.src = 'https://gist.github.com/' + id + '.json?callback=handleGist_' + id;\n        createHandler(id);\n        d.body.appendChild(tag);\n    }\n});\n","define('Page',[\n    'app',\n    'templates',\n    'gistHandle'\n], function (app, templates, gistHandle) {\n    'use strict';\n\n    var w = window,\n        d = w.document,\n\n        Page = function (options, state) {\n            var el = options.el || this.getActiveItem(),\n                id = el.id || 'h' + new Date().getTime(), // we need an id to be able to pass the element through history\n                slug = el.getAttribute('href');\n\n            options.id = el.id = id;\n            options.slug = slug;\n            options.column = options.column || app.views.grid.getContentColumn(el);\n\n            this.options = options;\n            this.el = el;\n\n            options.column.scrollTop = 0;\n\n            // this is already done if it was a single page load request\n            if (!(app.initial.isSingle && app.initial.pageLoad)) {\n                this.fetch(options, state);\n                app.toggleCloseBtn(1);\n            }\n\n            // on page load and through history,\n            // no need to set state.\n            if (!state && !app.initial.pageLoad) {\n                app.setHistory({\n                    id: id,\n                    title: this.getTitle(options.el),\n                    url: slug\n                });\n            }\n        };\n\n    Page.prototype = {\n\n        /**\n         * If one page load one of the content columns is open,\n         * it will have a data-slug, which can be used to find it's corresponding item.\n         * @returns {Element}\n         */\n        getActiveItem: function () {\n            var slug = d.querySelector('.open main').getAttribute('data-slug'),\n                item = d.querySelector('a.item[href=\"' + slug + '\"]');\n\n            if (item) {\n                item.classList.add('active');\n            }\n\n            return item;\n        },\n\n        getTitle: function (el) {\n            return el.getAttribute('data-title') || el.getElementsByTagName('h2')[0].textContent\n        },\n\n        fetch: function (options, state) {\n            var self = this;\n\n            this.options.column.innerHTML = templates.main(\n                this.el.getAttribute('data-title'),\n                options.slug,\n                this.el.getAttribute('data-img'),\n                this.el.querySelector('time') ? this.el.querySelector('time').textContent : null\n            );\n\n            if (state) {\n                return this.render(app.data[options.id]);\n            }\n\n            w.fetch(options.slug.replace(/\\/$/, '') + '?get')\n                .then(function (r) {\n                    return r.json()\n                })\n                .then(function (r) {\n                    app.data[options.id] = r;\n                    self.render(r);\n                })\n                .catch(function (error) {\n                    self.render({\n                        content: '<p class=\"err-xhr\"> ¡NETWORK ERROR [' + error.status + '] &mdash; ' + error.toString().toUpperCase() + '! </p>'\n                    });\n                })\n        },\n\n        render: function (data) {\n            var parent = this.options.column.getElementsByClassName('xhr-root')[0];\n            parent.innerHTML = templates.content(data);\n            this.evalGists(parent);\n        },\n\n        evalGists: function (parent) {\n            var tags = parent.getElementsByClassName('gist');\n            app.util.elementArray(tags).forEach(function(tag) {\n                gistHandle(tag.src);\n            })\n        },\n\n        destroy: function () {\n            this.options.column.innerHTML = '';\n        },\n    };\n    return Page;\n});\n","define('Grid',[\n    'app',\n    'Page'\n], function (app, Page) {\n    'use strict';\n\n    var w = window,\n        d = w.document,\n        isTouch = app.util.isTouch,\n        mouseTick = false,\n        isShowingThumb = 0,\n\n        requestMouseMoveUpdate = function (e, ctx) {\n            if (!mouseTick) {\n                var self = this;\n                w.requestAnimationFrame(function () {\n                    self.showHoverImage(e, ctx);\n                });\n            }\n            mouseTick = true;\n        },\n\n        Grid = function (options) {\n            var items = options.el.querySelectorAll('a.item, .blog a');\n\n            this.el = options.el;\n            this.thumb = d.getElementById('thumb');\n            this.activeColumn = d.querySelector('.col.open');\n\n            this.bindHandlers(items);\n            this.onTransitionEnd('width');\n        };\n\n    Grid.prototype = {\n\n        bindHandlers: function (items) {\n            var self = this,\n                i = 0, l = items.length,\n                itemClickHandle = function (e) {\n                    if (e.currentTarget.target === '_blank') {\n                        return true;\n                    }\n                    e.preventDefault();\n                    if (!e.currentTarget.classList.contains('active')) {\n                        self.hideThumb();\n                        self.launchPage(e.currentTarget);\n                    } else {\n                        w.history.back();\n                    }\n                },\n                itemMouseMoveHandle = function (e) {\n                    requestMouseMoveUpdate.call(self, e, this);\n                },\n                itemMouseOutHandle = function () {\n                    self.hideThumb();\n                };\n\n            for (i; i < l; i++) {\n                items[i].addEventListener('click', itemClickHandle);\n\n                if (!isTouch && items[i].getAttribute('data-img')) {\n                    items[i].addEventListener('mousemove', itemMouseMoveHandle);\n                    items[i].addEventListener('mouseleave', itemMouseOutHandle);\n                }\n            }\n            if (!isTouch) {\n                self.thumb.addEventListener('mouseenter', itemMouseOutHandle);\n            }\n        },\n\n        /**\n         * @param e\n         * @param item, 'this' passed from event handler, currentTarget didn't work in sf9\n         */\n        showHoverImage: function (e, item) {\n            var src = item.getAttribute('data-img');\n\n            this.thumb.style.top = e.pageY + 'px';\n            this.thumb.style.left = e.pageX + 'px';\n\n            if (isShowingThumb !== src) {\n                this.setThumb(src);\n            }\n\n            mouseTick = false;\n        },\n\n        setThumb: function (src) {\n            isShowingThumb = src;\n            this.thumb.style.display = 'block';\n            this.thumb.innerHTML = '<img src=\"' + src + '\" width=\"150px\">';\n        },\n\n        hideThumb: function () {\n            isShowingThumb = 0;\n            this.thumb.style.display = 'none';\n        },\n\n        onTransitionEnd: function (property) {\n            var self = this;\n\n            this.el.addEventListener('transitionend', function (e) {\n                if (e.propertyName === property) {\n                    if (!self.activeColumn) {\n                        self.onColumnShrunk(e.target);\n                    } else {\n                        self.onColumnExpanded(e.target);\n                    }\n                }\n            });\n        },\n\n        launchPage: function (item, state) {\n            var self = this,\n                contentColumn = self.getContentColumn(item),\n                label = /(blog)/.test(item.href) ? 'blog' : contentColumn.id;\n\n            this.unsetActiveItem();\n\n            item.classList.add('active');\n\n            self.activeColumn = contentColumn;\n            self.activeColumnIndex = app.util.elementIndex(contentColumn);\n\n            app.views.page = new Page({\n                el: item,\n                column: contentColumn\n            }, state);\n\n            switch (label) {\n                case 'online':\n                    self.shiftGrid(contentColumn);\n                    self.expandColumn(contentColumn);\n                    break;\n                case 'offline':\n                    self.shiftGrid(contentColumn);\n                    w.setTimeout(function () {\n                        self.expandColumn(contentColumn);\n                    }, 250);\n                    break;\n                case 'blog':\n                    self.expandColumn(contentColumn, 1);\n                    w.setTimeout(function () {\n                        self.shiftGrid(contentColumn, 1);\n                    }, 200);\n                    break;\n            }\n        },\n\n        getContentColumn: function (item) {\n            var parentColumn = app.util.parent(item, 'section');\n            return d.getElementById(parentColumn.getAttribute('data-id'));\n        },\n\n        expandColumn: function (contentColumn, forBlog) {\n            contentColumn.classList.remove('invisible');\n\n            w.requestAnimationFrame(function () {\n                if (forBlog) {\n                    contentColumn.classList.add('open', 'as-blog');\n                } else {\n                    contentColumn.classList.remove('as-blog');\n                    contentColumn.classList.add('open');\n                }\n            });\n        },\n\n        shiftGrid: function (column, forBlog) {\n            var self = this,\n                leftShift = 0;\n\n            if (app.wWidth >= 780) {\n                switch (column.id) {\n                    case 'online':\n                        leftShift = 0;\n                        break;\n                    case 'offline':\n                        leftShift = forBlog ? 2 : 1;\n                        break;\n                }\n                leftShift = Math.ceil(app.gridWidth * (11 * (leftShift)) / 100);\n            } else {\n                leftShift = self.mobileGridShift();\n            }\n\n            w.requestAnimationFrame(function () {\n                self.el.style.transform = 'translate3d(-' + leftShift + 'px,0,0)';\n            });\n        },\n\n        mobileGridShift: function () {\n            var columnIndex = this.activeColumnIndex > 1 ? this.activeColumnIndex - 1 : 1;\n            return Math.ceil(app.gridWidth * (25 * (columnIndex)) / 100);\n        },\n\n        // transitions disabled on mobile, this is not called\n        onColumnExpanded: function () {\n            this.toggleColumnVisibility(0);\n        },\n\n        shrinkColumn: function (overrideColumnID) {\n            var self = this,\n                column = self.activeColumn;\n\n            if (!column) {\n                return;\n            } // for the mobile nav buttons\n\n            column.classList.remove('open');\n\n            self.unsetActiveItem();\n\n            self.toggleColumnVisibility(1);\n\n            w.requestAnimationFrame(function () {\n                var shift;\n\n                column.classList.remove('open');\n\n                if (app.wWidth >= 780) {\n                    self.el.style.transform = 'translate3d(0,0,0)';\n                } else {\n                    self.activeColumnIndex = overrideColumnID || self.activeColumnIndex;\n                    shift = self.activeColumnIndex === 1 ? 0 : Math.ceil(app.gridWidth * 25 / 100);\n                    self.el.style.transform = 'translate3d(-' + shift + 'px,0,0)';\n                }\n\n                self.activeColumn = null;\n                self.activeColumnIndex = null;\n            });\n        },\n\n        unsetActiveItem: function () {\n            var item = d.querySelector('a.item.active');\n\n            if (item) {\n                item.classList.remove('active');\n            }\n        },\n\n        // transitions disabled on mobile, this is not called\n        onColumnShrunk: function (column) {\n            w.requestAnimationFrame(function () {\n                column.classList.add('invisible');\n                app.views.page.destroy();\n                delete app.views.page;\n            });\n        },\n\n        toggleColumnVisibility: function (show) {\n            var cols = app.util.elementArray(d.getElementsByClassName('col')),\n                activeIndex = this.activeColumnIndex - 1,\n                i = 0;\n\n            cols.splice(activeIndex, 2);\n\n            for (i; i < cols.length; i++) {\n                //cols[i].classList[ show ? 'remove' : 'add' ]( 'invisible' );\n            }\n        }\n    };\n    return Grid;\n});\n",";(function (w) {\n    'use strict';\n\n    var d = w.document,\n        loc = w.location,\n        pathname = loc.pathname;\n\n    require.config({\n        baseUrl: '/resources/js',\n        paths: {\n            goScroll: \"../../node_modules/go-scroll-to/goScroll\",\n            d1: \"modules/d1\",\n\n            app: \"app\",\n            templates: \"modules/pageTpl\",\n            Grid: \"modules/Grid\",\n            Page: \"modules/Page\",\n            gistHandle: \"modules/gist-handle\"\n        }\n    });\n\n    require(['app', 'Grid', 'Page'], function (app, Grid, Page) {\n        var isWin = !w.navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i),\n            state = {\n                pageLoad: 1,\n                isSingle: pathname !== '/' && pathname !== '/index.php' && !d.getElementsByClassName('.err-404').length,\n                siteTitle: d.getElementById('site-title').getAttribute('content'),\n                title: d.title,\n                url: loc.href\n            };\n\n        if (isWin) d.body.classList.add('is-win');\n\n        d.body.classList.add(app.util.isTouch ? 'is-touch' : 'no-touch');\n\n        // History handling\n        if (app.hasHistory) {\n            // On pop state launch view\n            w.addEventListener('popstate', function (e) {\n                // prevent pop state on first load for Safari & Chrome 34-\n                if (!e.state) return;\n                app.handlePopState(e.state);\n            });\n\n            // Replace initial state to store the initial content so we can revisit it later.\n            w.history.replaceState(state, state.title, state.url);\n        }\n\n        // Set up grid\n        app.views.grid = new Grid({\n            el: d.getElementById('grid')\n        });\n\n        // Start\n        app.initialize(state);\n\n        // Set up the page, if needed\n        if (state.isSingle) {\n            app.views.page = new Page({}, state);\n            app.views.grid.shiftGrid(d.querySelector('.col.open'), /(blog)/.test(pathname));\n            app.views.grid.onColumnExpanded();\n        }\n\n        app.initial.pageLoad = 0;\n    });\n})(window);\ndefine(\"index.js\", function(){});\n\n"]}